{%set name teacher-jqm %}
{%set args channel, roomcl %}

{%extends 'boilerplate-jqm' %}

{%block 'title' %}Welcome to class: {%= channel%}{%/block %}

{%block 'body-scripts' %}
<script type="text/javascript" src="/static/js/jquery.stopwatch.js"></script>
<link rel="stylesheet" type="text/static/css" href="/static/js/shadowbox-3.0.3/shadowbox.css">
<script type="text/javascript" src="/static/js/shadowbox-3.0.3/shadowbox.js"></script>
<script type="text/javascript">
	Shadowbox.init({
	    handleOversize: "drag",
		overlayColor: "#330099",
		overlayOpacity: "0.75",
	    modal: false,
		displayNav:         true,
		handleUnsupported:  "link",
		autoplayMovies:     true,
	});
</script>
<script type="text/javascript">
	$(document).ready(function() {
		var sessionid;
		var nick;
		updateTeacherContent2({%= roomcl %});
		
		if (!isLoggedIn()) {
			showLogin('{%= channel%}');
		} else {
			nick = CONFIG.nick;
			verifyEpochCookie(sessionid);
		}

		/* XXX Don't use JQM ... $('#dialog').jqm({modal:true}).jqmShow();
		$('#qadialog').jqm({modal:false, autofire:true}); */
		// var h = $(window).height();
        // var w = $(window).width();

		// $('#dialog').jqm().jqmShow({autofire:true,modal:true});
		$('#timer').stopwatch();
	});
</script>
<script type="text/javascript">
	/* XXX Refactor this into epoch-client.js */
	function getChannel() {
		return '{%= channel%}';
	}
	function isTeacher() {
		return true;
	}
</script>
<script type="text/javascript" src="/static/js/epoch-client.js" ></script>
{%/block %}
{%block 'head' %}
{%/block %}

{%block 'container' %}
<!-- Start of first page -->
<div data-role="page" id="chat">

	<div data-role="header" data-id="header" data-position="fixed">
		<div id="branding">
			<h1>Classroom: {%= channel%}</h1>
		</div>
		<div id="session">
			<div id="timer"></div>
		</div>
	</div><!-- /header -->

	<div data-role="content">	
		<div class="ui-grid-A">
			<div class="ui-block-A">
				<form>
					<div class="chatscroll">
						<div class="msg"><span class="user">Teacher:</span>   <div class="msgcon">Etiam in tincidunt arcu. Nulla at augue sem.</div><div class="ts">12:44 am</div></div>
						<div class="msg"><span class="user">Teacher:</span>   <div class="msgcon">Aliquam enim neque, tempor eu sodales a, fermentum et urna.</div><div class="ts">12:44 am</div></div>
						<div class="msg"><span class="user">Teacher:</span>   <div class="msgcon">Etiam in tincidunt arcu. Nulla u sodales a, feu sodales a, fermentum et urna.</div><div class="ts">12:44 am</div></div>
						<div class="msg"><span class="user">Teacher:</span>   <div class="msgcon">Aliquam enim neque, tempor eu sodales a, fermentum et urna.</div><div class="ts">12:44 am</div></div>
						<div class="msg"><span class="user">Teacher:</span>   <div class="msgcon">Etiam in tincidunt arcu. Nulla at augulla at augue sem.</div><div class="ts">12:44 am</div></div>
						<div class="msg"><span class="user">Teacher:</span>   <div class="msgcon">Aliquam enim neque, tempor eu sodales a, fermentum et urna.</div><div class="ts">12:44 am</div></div>
						<div class="msg"><span class="user">Teacher:</span>   <div class="msgcon">Nulla at augue sem.tiam in tincidunt arcu. Nulla at aulla at augue sem.ue sem.</div><div class="ts">12:44 am</div></div>
						<div class="msg"><span class="user">Teacher:</span>   <div class="msgcon">Aliquam enim neque, tempor eu sodales a, fermentum et urna.</div><div class="ts">12:44 am</div></div>
						<div class="msg"><span class="user">Teacher:</span>   <div class="msgcon">Etiam in tincidunt arcu. Nulla at augue sem.</div><div class="ts">12:44 am</div></div>
						<div class="msg"><span class="user">Teacher:</span>   <div class="msgcon">Aliquam enim neque, tempor eu sodales a, fermentum et urna.</div><div class="ts">12:44 am</div></div>
						<div class="msg"><span class="user">Teacher:</span>   <div class="msgcon">Etiam in tincidunt arcu. Nulla at augue sem.</div><div class="ts">12:44 am</div></div>
						<div class="msg"><span class="user">Teacher:</span>   <div class="msgcon">Aliquam enim neque, tempor eu sodales a, fermentum et urna.</div><div class="ts">12:44 am</div></div>
					</div>
				</form>
			</div>
			<div class="ui-block-B"></div>	   
		</div>
	</div><!-- /content -->

	<div data-role="footer" class="footer" data-position="fixed">
		<div data-role="fieldcontain" class="chatinput">
			    <input type="text" name="name" id="entry" value=""  />
				<div id="csubmit" data-role="button">Send</div>
		</div>
		<ul class="footernav">
			<li class="link1 active"><a href="#">Chat</a></li>
			<li class="link2"><a href="#resources">Resources</a></li>
			<li class="link3"><a href="#attendance">Attendance</a></li>
			<li class="link5"><a href="panel" data-icon="gear" data-transition="pop" data-iconpos="top" data-rel="dialog" data-theme="a">Options</a></li>
		</ul>
		<div class="footercopy">
			<p>Powered by Razortooth Communications, LLC</p>
		</div>
	</div><!-- /footer -->
</div><!-- /page -->


<!-- Start of second page -->
<div data-role="page" id="resources">
	<div data-role="header" data-id="header" data-position="fixed">
		<h1>Resources</h1>
	</div><!-- /header -->

	<div data-role="content">
		<div class="ui-grid-A">
			<div class="ui-block-A">
				<form action="#" method="get">
					<div data-role="fieldcontain">
						<fieldset data-role="controlgroup" data-role="fieldcontain" id="cpfieldset">
							<div class="ui-block-A" id="resourceslist">
								<div class="ui-checkbox" id="ci-template"><input type="checkbox" class="custom" id="checkbox-1a" name="checkbox-1a"><label for="checkbox-1a" data-theme="c" class="ui-btn ui-btn-icon-left ui-corner-top ui-btn-up-c">Spanish Lesson 01</label></div>
								{*
								<div class="ui-checkbox"><input type="checkbox" class="custom" id="checkbox-1b" name="checkbox-1b"><label for="checkbox-1b" data-theme="c" class="ui-btn ui-btn-icon-left ui-corner-top ui-btn-up-c">Spanish Lesson 02</label></div>
								<div class="ui-checkbox"><input type="checkbox" class="custom" id="checkbox-1a" name="checkbox-1a"><label for="checkbox-1a" data-theme="c" class="ui-btn ui-btn-icon-left ui-corner-top ui-btn-up-c">Spanish Lesson 01</label></div>
								<div class="ui-checkbox"><input type="checkbox" class="custom" id="checkbox-1b" name="checkbox-1b"><label for="checkbox-1b" data-theme="c" class="ui-btn ui-btn-icon-left ui-corner-top ui-btn-up-c">Spanish Lesson 02</label></div>
								<div class="ui-checkbox"><input type="checkbox" class="custom" id="checkbox-1c" name="checkbox-1c"><label for="checkbox-1c" data-theme="c" class="ui-btn ui-btn-icon-left ui-corner-top ui-btn-up-c">Spanish Lesson 03</label></div>
								<div class="ui-checkbox"><input type="checkbox" class="custom" id="checkbox-2a" name="checkbox-2a"><label for="checkbox-2a" data-theme="c" class="ui-btn ui-btn-icon-left ui-corner-top ui-btn-up-c">Math Lesson 01</label></div>
								<div class="ui-checkbox"><input type="checkbox" class="custom" id="checkbox-2b" name="checkbox-2b"><label for="checkbox-2b" data-theme="c" class="ui-btn ui-btn-icon-left ui-corner-top ui-btn-up-c">Math Lesson 02</label></div>
								<div class="ui-checkbox"><input type="checkbox" class="custom" id="checkbox-2c" name="checkbox-2c"><label for="checkbox-2c" data-theme="c" class="ui-btn ui-btn-icon-left ui-corner-top ui-btn-up-c">Math Lesson 03</label></div>
								<div class="ui-checkbox"><input type="checkbox" class="custom" id="checkbox-3a" name="checkbox-3a"><label for="checkbox-3a" data-theme="c" class="ui-btn ui-btn-icon-left ui-corner-top ui-btn-up-c">English Lesson 01</label></div>
								<div class="ui-checkbox"><input type="checkbox" class="custom" id="checkbox-3b" name="checkbox-3b"><label for="checkbox-3b" data-theme="c" class="ui-btn ui-btn-icon-left ui-corner-top ui-btn-up-c">English Lesson 02</label></div>
								<div class="ui-checkbox"><input type="checkbox" class="custom" id="checkbox-3c" name="checkbox-3c"><label for="checkbox-3c" data-theme="c" class="ui-btn ui-btn-icon-left ui-corner-top ui-btn-up-c">English Lesson 03</label></div>
						*}
							</div><!-- /ui-block-A -->
						</fieldset>
					</div><!-- /fieldcontain -->
				</form>
			</div><!-- /ui-block-A -->
		</div><!-- /ui-grid-A -->
	</div><!-- /content -->

	<div data-role="footer" class="footer" data-position="fixed">
		<div style="padding-left:15px;">
			<fieldset>
				<div data-role="fieldcontain">
					<select name="contentdelivery" id="contentdelivery" tabindex="-1">
						<option id="nada" value="-1">Content Commands</option>
						<option id="preview" value="preview">Preview</option>
						<option id="sendviewer" value="sendviewer">Send Player</option>
						<option id="endviewer" value="endviewer">End Player</option>
						<option id="sendurl" value="sendurl">Send URL</option>
						<option id="sendviewerlocal" value="sendviewerlocal">Send Local</option>
						<option id="sync" value="sync">Sync Content</option>
						<option id="launchurl" value="launchurl">Launch Remote URL</option>
						<option id="remoteinstall" value="remoteinstall">Remote Install</option>
					</select>
				</div>
				<div data-role="fieldcontain" style="width:550px;">
					<select name="mcpcommands" id="mcpcommands" tabindex="-1">
						<option id="nada" value="-1">MCP Commands</option>
						<option id="mcpmodestart" value="mcpmodestart">Control:On</option>
						<option id="mcpmodestop" value="mcpmodestop">Control:Off</option>
						<option id="launch" value="launch">Launch Remote App</option>
						<option id="logoutall" value="logoutall">Logout All in Session</option>
						<option id="killall" value="killall">Killall non-essential User Apps</option>
						<option id="logoutall" value="logoutall">Logout All in Session</option>
						<option id="status" value="status">Get Device Status</option>
					</select>
				</div>
			</fieldset>
		</div>
					
		<ul class="footernav">
			<li class="link1"><a href="#chat">Chat</a></li>
			<li class="link2 active"><a href="#">Resources</a></li>
			<li class="link3"><a href="#attendance">Attendance</a></li>
			<li class="link5"><a href="panel" data-icon="gear" data-transition="pop" data-iconpos="top" data-rel="dialog" data-theme="a">Options</a></li>
		</ul>
		<div class="footercopy">
			<p>Powered by Razortooth Communications, LLC</p>
		</div>
	</div><!-- /footer -->
</div><!-- /page -->


<!-- Start of third page -->
<div data-role="page" id="attendance">

	<div data-role="header" data-position="fixed">
		<h1>Attendance</h1>
	</div><!-- /header -->

	<div data-role="content">
		<ul data-role="listview" data-inset="true" data-theme="c" data-dividertheme="b" id="userstatus">
			<li data-role="list-divider">Students in classroom: {%= channel%} (<span id="usersLink">0</span>)</li>
			<li id="waiting">Waiting for students to join</li>
		</ul>	
	</div><!-- /content -->

	<div data-role="footer" class="footer" data-position="fixed">
		<ul class="footernav">
			<li class="link1"><a href="#chat">Chat</a></li>
			<li class="link2"><a href="#resources">Resources</a></li>
			<li class="link3 active"><a href="#">Attendance</a></li>
			<li class="link5"><a href="panel" data-icon="gear" data-transition="pop" data-iconpos="top" data-rel="dialog" data-theme="a">Options</a></li>
		</ul>
		<div class="footercopy">
			<p>Powered by Razortooth Communications, LLC</p>
		</div>
	</div><!-- /footer -->
</div><!-- /page -->

<div id="panel" data-theme="c" data-role="dialog" role="dialog">
	<div data-role="header" role="banner">
		<a data-iconpos="notext" data-icon"delete" href="#" title="Close" data-theme="a">Close</a><h1>Account Settings</h1>
	</div><!-- /header -->
	<div data-role="content" data-theme="c" role="main">	
		<a href="#" data-role="button" data-icon="refresh" data-iconpos="top" class="logout">Logout</a>
	</div><!-- /content -->
</div>
{%/block %}